<!DOCTYPE html>
<html lang="sk">
<head>
  <meta charset="UTF-8">
  <title>Peru - Pamiatky a Kultúra</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 40px; background-color: #f0f0f0; text-align: center; }
    h1 { margin-bottom: 40px; }
    .row { display: flex; justify-content: center; flex-wrap: wrap; gap: 30px; margin-bottom: 40px; }
    .image, .label { border: 2px solid #333; background-color: #fff; border-radius: 8px; cursor: pointer; padding: 10px; width: 220px; transition: background-color 0.3s; }
    .image img { max-width: 200px; border-radius: 8px; }
    .label { font-size: 18px; font-weight: bold; padding: 15px; }
    button { margin-top: 30px; padding: 12px 24px; font-size: 18px; cursor: pointer; }
    #result { font-size: 22px; font-weight: bold; margin-top: 20px; }
  </style>
</head>
<body>
  <h1>Peru: Priraď obrázok k názvu</h1>

  <div class="row images" id="imagesRow"></div>
  <div class="row labels" id="labelsRow"></div>

  <button onclick="vyhodnot()">Vyhodnotiť</button>
  <div id="result"></div>

  <script>
    const pamiatky = [
      { name: "Machu Picchu", img: "machu_picchu.jpg" },
      { name: "Púšť Nazca", img: "nazca.jpg" },
      { name: "Panova flauta", img: "panova_flauta.jpg" },
      { name: "Lama", img: "lama.jpg" }
    ];

    function shuffle(array) { return array.sort(() => Math.random() - 0.5); }

    const shuffledImages = shuffle([...pamiatky]);
    const shuffledLabels = shuffle([...pamiatky]);

    const imagesRow = document.getElementById("imagesRow");
    const labelsRow = document.getElementById("labelsRow");

    shuffledImages.forEach(p => {
      const div = document.createElement("div");
      div.classList.add("image");
      div.setAttribute("data-image", p.name);
      div.innerHTML = `<img src="${p.img}" alt="${p.name}">`;
      imagesRow.appendChild(div);
    });

    shuffledLabels.forEach(p => {
      const div = document.createElement("div");
      div.classList.add("label");
      div.setAttribute("data-name", p.name);
      div.textContent = p.name;
      labelsRow.appendChild(div);
    });

    let selectedImage = null;
    document.addEventListener("click", (e) => {
      if (e.target.closest(".image")) {
        const image = e.target.closest(".image");
        if (!image.hasAttribute("data-linked")) selectedImage = image;
      }
      if (e.target.closest(".label")) {
        const label = e.target.closest(".label");
        if (selectedImage && !label.hasAttribute("data-linked")) {
          selectedImage.setAttribute("data-match", label.getAttribute("data-name"));
          selectedImage.setAttribute("data-linked", "true");
          label.setAttribute("data-linked", "true");
          selectedImage.style.backgroundColor = "#d0ffd0";
          label.style.backgroundColor = "#d0ffd0";
          selectedImage = null;
        }
      }
    });

    function vyhodnot() {
      let spravne = 0;
      document.querySelectorAll(".image").forEach(image => {
        if (image.getAttribute("data-match") === image.getAttribute("data-image")) spravne++;
      });
      document.getElementById("result").textContent = `Správne odpovede: ${spravne} z 4`;
    }
  </script>
</body>
</html>
